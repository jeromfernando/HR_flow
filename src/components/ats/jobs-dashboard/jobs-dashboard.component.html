<div class="space-y-6">
  <header class="flex items-center justify-between">
    <div>
      <h1 class="text-3xl font-bold text-gray-800">Jobs</h1>
      <p class="mt-1 text-gray-500">Manage your job postings and track applicants</p>
    </div>
    <a routerLink="/jobs/new" class="flex items-center px-4 py-2 text-sm font-medium text-white bg-slate-800 rounded-lg shadow-sm hover:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
      Create Job
    </a>
  </header>

  <!-- Filters -->
  <div class="p-4 bg-white rounded-lg shadow-sm border border-slate-200">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div class="relative">
        <svg class="absolute w-5 h-5 text-slate-400 left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
        <input 
          type="text" 
          placeholder="Search jobs..." 
          class="w-full py-2 pl-10 pr-4 text-sm bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          [ngModel]="searchTerm()"
          (ngModelChange)="searchTerm.set($event)">
      </div>
       <select 
        class="w-full py-2 px-4 text-sm bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        [ngModel]="selectedStatus()"
        (ngModelChange)="selectedStatus.set($event)">
        <option value="All">All Status</option>
        <option value="Published">Published</option>
        <option value="Draft">Draft</option>
      </select>
       <select 
        class="w-full py-2 px-4 text-sm bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        [ngModel]="selectedDepartment()"
        (ngModelChange)="selectedDepartment.set($event)">
        @for (dept of departments(); track dept) {
          <option [value]="dept">{{ dept === 'All' ? 'All Departments' : dept }}</option>
        }
      </select>
    </div>
  </div>

  <!-- Job Cards -->
  <div class="grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3">
    @for(job of filteredJobs(); track job.id) {
      <div class="flex flex-col p-5 bg-white border border-slate-200 rounded-lg shadow-sm hover:shadow-lg transition-shadow duration-200">
        <div class="flex-grow">
          <h3 class="text-lg font-bold text-slate-800">{{ job.title }}</h3>
          <p class="text-sm text-slate-500">{{ job.department }}</p>
        
          <div class="mt-4 space-y-2 text-sm text-slate-600">
            <div class="flex items-center">
              <svg class="w-4 h-4 mr-2 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
              <span>{{ job.location }}</span>
            </div>
            <div class="flex items-center">
              <svg class="w-4 h-4 mr-2 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v-1m0 1H9m3 0h3m-3 10v-1m0 1v1m0-1H9m3 0h3m-6 0a9 9 0 1112 0 9 9 0 01-12 0z"></path></svg>
              <span>${{job.salaryMin.toLocaleString()}} - ${{job.salaryMax.toLocaleString()}}</span>
            </div>
             <div class="flex items-center">
              <svg class="w-4 h-4 mr-2 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
              <span>{{ job.experience }} experience</span>
            </div>
          </div>

          <div class="mt-4 flex flex-wrap gap-2">
              @for(skill of job.skills.slice(0, 3); track skill) {
                <span class="px-2.5 py-1 text-xs font-medium text-slate-700 bg-slate-100 border border-slate-200 rounded-md">{{skill}}</span>
              }
              @if(job.skills.length > 3) {
                 <span class="px-2.5 py-1 text-xs font-medium text-slate-700 bg-slate-100 border border-slate-200 rounded-md">+{{ job.skills.length - 3 }} more</span>
              }
          </div>
        </div>
        
        <div class="flex items-center justify-between pt-4 mt-4 border-t border-slate-100">
          <div class="flex items-center gap-2">
            <span [class]="'inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ' + (job.status === 'Published' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800')">{{ job.status }}</span>
            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-cyan-100 text-cyan-800">{{ job.postType }}</span>
          </div>
           <div class="flex items-center text-sm font-medium text-slate-600">
             <svg class="w-4 h-4 mr-1.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.598m-1.5.003A9.37 9.37 0 018.624 15c-2.331 0-4.512.645-6.374 1.766l-.001.109a6.375 6.375 0 0011.964 4.598 12.348 12.348 0 00-3.263-4.598m1.5-.003h-.001M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
            <span>{{ job.applicants }}</span>
          </div>
        </div>
      </div>
    }
  </div>
</div>